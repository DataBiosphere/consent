<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd">

    <changeSet id="80.0" author="smarks">
        <addColumn tableName="data_access_request">
            <column name="parent_reference_id" type="varchar(255)" defaultValue="null">
                <constraints foreignKeyName="fkreferenceid" nullable="true"/>
            </column>
        </addColumn>

        <addForeignKeyConstraint baseColumnNames="parent_reference_id"
                                 baseTableName="data_access_request"
                                 constraintName="fkreferenceid"
                                 onDelete="RESTRICT"
                                 onUpdate="RESTRICT"
                                 referencedColumnNames="reference_id"
                                 referencedTableName="data_access_request"/>
    </changeSet>
</databaseChangeLog>
