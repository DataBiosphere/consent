get:
  summary: Get Associations for Consent
  description: Returns the associations identified by the parameters.
  parameters:
    - name: consentId
      in: path
      description: Consent ID
      required: true
      schema:
        type: string
    - name: associationType
      in: query
      description: Association's type, 'sample', or 'sampleSet'
      required: true
      schema:
        type: string
        enum: [sample, sampleSet]
    - name: associationId
      in: query
      description: Optional ID of the requested association
      required: false
      schema:
        type: string
  tags:
    - Consent
    - Association
  responses:
    200:
      description: An array of Consent Associations
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../schemas/ConsentAssociation.yaml'
    400:
      description: Required parameter is null
    default:
      description: Unexpected error
post:
  summary: Create Association for Consent
  description: Create the association sent as parameters.
  requestBody:
    description: Required JSON payload representing new Consent Associations
    required: true
    example: |
    [
      {
        "associationType": "sample",
        "elements": ["SAMPLE-1234", "SAMPLE-5678"]
      },
      {
        "associationType": "sampleSet",
        "elements": ["SAMPLE_SET-1234", "SAMPLE_SET-5678"]
      }
    ]
    content:
      application/json:
        schema:
          type: array
          items:
            $ref: '../schemas/ConsentAssociation.yaml'
  parameters:
    - name: consentId
      in: path
      description: Consent ID
      required: true
      schema:
        type: string
  tags:
    - Consent
    - Association
  responses:
    200:
      description: An array of created consent associations
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../schemas/ConsentAssociation.yaml'
    default:
      description: Unexpected error
put:
  summary: Update Associations for Consent
  description: Update the association identified by the parameters
  requestBody:
    description: Required JSON payload representing updated Consent Association
    required: true
    example: |
    [
      {
        "associationType": "sample",
        "elements": ["SAMPLE-1234", "SAMPLE-5678"]
      },
      {
        "associationType": "sampleSet",
        "elements": ["SAMPLE_SET-1234", "SAMPLE_SET-5678"]
      }
    ]
    content:
      application/json:
        schema:
          $ref: '../schemas/ConsentAssociation.yaml'
  parameters:
    - name: consentId
      in: path
      description: Consent ID
      required: true
      schema:
        type: string
  tags:
    - Consent
    - Association
  responses:
    200:
      description: An array with the updated consent associations
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../schemas/ConsentAssociation.yaml'
    default:
      description: Unexpected error
delete:
  summary: Delete Associations for Consent
  description: Deletes the association identified by the parameters
  parameters:
    - name: consentId
      in: path
      description: Consent ID
      required: true
      schema:
        type: string
    - name: associationType
      in: query
      description: Association's type
      required: true
      schema:
        type: string
    - name: id
      in: query
      description: Object ID of the requested association
      required: true
      schema:
        type: string
  tags:
    - Consent
    - Association
  responses:
    200:
      description: An array with the deleted consent associations
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '../schemas/ConsentAssociation.yaml'
    default:
      description: Unexpected error
